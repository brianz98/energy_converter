:root{
  --bg:#0f1721;
  --card:#0b1220;
  --muted:#9aa4b2;
  --accent:#10b981;
  --text:#e6eef6;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial}
body{background:linear-gradient(180deg,#232937 0%,#081226 100%);color:var(--text);display:flex;align-items:center;justify-content:center;padding:24px}
.container{max-width:820px;width:100%;background:rgba(75, 88, 124, 0.339);padding:24px;border-radius:10px;box-shadow:0 6px 30px rgba(2,6,23,0.6)}
h1{margin:0 0 6px;font-size:1.5rem}
.lede{margin:0 0 18px;color:var(--muted)}
form{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:18px}
label{display:flex;flex-direction:column;flex:1;min-width:160px}
input,select{padding:10px;border-radius:6px;border:1px solid rgba(255,255,255,0.06);background:rgba(255, 255, 255, 0.121);color:var(--text);outline:none}
# Remove native number input spin buttons (Chrome, Edge, Safari)
input[type=number]::-webkit-outer-spin-button,
input[type=number]::-webkit-inner-spin-button{
  -webkit-appearance: none;
  margin: 0;
}
/* Firefox */
input[type=number]{
  -moz-appearance: textfield;
  -webkit-appearance: textfield;
  appearance: textfield;
}

/* Additional rule: explicitly hide the webkit spin buttons (fallback) */
input[type=number]::-webkit-outer-spin-button,
input[type=number]::-webkit-inner-spin-button{
  display: none;
}
#results h2{margin:0 0 8px}
table{width:100%;border-collapse:collapse}

/* keep nm visual row columns stable without locking the whole table
  set widths on the nm visual row cells so the spectral bar doesn't shift
  when other rows toggle between single/pair layouts */
#nm-visual-row > td:first-child { width: 36%; }
#nm-visual-row > td:nth-child(2) { width: 50%; }
#nm-visual-row > td:nth-child(3) { width: 14%; }

/* Lock the visual region content inside its cell so row above reflows independently.
  Use centered anchoring (left:50% + translateX) so the visual stays horizontally centered
  relative to its cell even when sibling columns change width. */
#nm-visual-row td:nth-child(2){ position: relative; }
#nm-visual-row .nm-visual{ position: absolute; left: 0; top: 50%; transform: translateY(-50%); display:flex; align-items:center; gap:12px; width: auto; max-width: calc(100% - 12px); }

@media (max-width:720px){
  #nm-visual-row td:nth-child(2){ position: static; }
  #nm-visual-row .nm-visual{ position: static; transform: none; flex-direction:column; align-items:flex-start }
}
thead th{font-weight:600;text-align:left;padding:8px 0;border-bottom:1px solid rgba(255,255,255,0.03);color:var(--muted)}
/* remove faint dotted separators between rows for a cleaner look */
tbody td{padding:8px 0;border-bottom:none}
footer{margin-top:14px;color:var(--muted);font-size:13px}

.copy-col{width:80px;text-align:center}
.copy-btn{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text);padding:6px 10px;border-radius:6px;cursor:pointer}
.copy-btn.copied{background:var(--accent);color:#042017;border-color:transparent}

/* style for the diff-mode label so checkbox sits directly after text */
.diff-toggle{display:inline-flex;align-items:center;gap:8px;margin-left:0;font-weight:500;background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text);padding:6px 10px;border-radius:8px;cursor:pointer}
.diff-toggle.active{background:var(--accent);color:#042017;border-color:transparent}
.diff-toggle.active:hover{ /* lighter emerald on hover when active */
  background: #34d399; /* slightly lighter emerald */
  border-color: transparent;
  color: #042017;
}

/* place the toggle on its own row under the precision controls */
.diff-row{margin-top:10px;border-bottom:1px solid rgba(255,255,255,0.04);margin-bottom:18px;padding-bottom:14px}

/* divider + spacing for bottom precision control */
.precision-bottom{border-top:1px solid rgba(255,255,255,0.04);margin-top:18px;padding-top:14px}

/* place precision controls and github button on same row */
.precision-row{display:flex;align-items:center;justify-content:space-between;gap:12px}

/* precision label + controls inline */
.precision-label{display:inline-flex;align-items:center;gap:10px}
.precision-inline{display:inline-flex;align-items:center;gap:8px;white-space:nowrap;font-size:0.88rem}
.precision-text{margin-right:6px;color:var(--muted);font-size:0.88rem;font-weight:600}
.precision-controls{display:inline-flex;align-items:center;gap:6px}
.precision-controls input[type="number"]{width:48px;padding:6px 8px;height:32px;font-size:0.95em}
.stepper-btn{display:inline-flex;align-items:center;justify-content:center;min-width:36px;padding:6px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--text);cursor:pointer;font-weight:600}
.stepper-btn:active{transform:translateY(1px)}
.stepper-btn[disabled]{opacity:0.45;cursor:not-allowed}

/* GitHub button */
.gh-btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:6px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--text);text-decoration:none}
.gh-btn:hover{background:rgba(255,255,255,0.03)}
.gh-btn svg{display:block}

/* screen-reader only text */
.sr-only{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap;border:0;padding:0;margin:-1px}

/* subtle hover / lighten for interactive controls */
.diff-toggle, .copy-btn, .stepper-btn, .gh-btn {
  transition: background-color 150ms ease, border-color 150ms ease, color 120ms ease, transform 80ms ease;
}

.diff-toggle:hover,
.copy-btn:hover,
.stepper-btn:hover {
  background: rgba(255,255,255,0.03);
  border-color: rgba(255,255,255,0.08);
}

/* keep copied state visually distinct */
.copy-btn.copied{background:var(--accent);color:#042017;border-color:transparent}

/* visually indicate disabled/locked pair inputs (e.g., nm) */
.pair input[disabled], .pair input[aria-disabled="true"]{
  opacity: 0.65;
  background: rgba(255,255,255,0.02);
  cursor: not-allowed;
  color: var(--muted);
}

/* pair layout: align A - B - D inline; allow variant where only D is shown */
.pair{display:flex;align-items:center;gap:6px}

.row-rule{border:0;height:1px;background:linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.06), rgba(255,255,255,0.03));margin:10px 0}
.nm-visual{display:flex;flex-direction:row;align-items:center;gap:12px;flex-wrap:nowrap}
/* Fix: make the region label a fixed-width box (~40ch) and prevent it from flexing
   so the color bar and copy button don't shift when the text changes. */
.nm-region{
  font-size:0.95rem;
  color:var(--muted);
  width:40ch;
  flex: 0 0 40ch; /* fixed width */
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  display:block;
}
.nm-color-bar{
  width:140px;
  flex: 0 0 140px; /* fixed width */
  height:18px;
  border-radius:6px;
  border:1px solid rgba(255,255,255,0.04);
  background:#000;
}
.copy-color-btn{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text);padding:6px 10px;border-radius:6px;cursor:pointer;flex:0 0 auto}
.copy-color-btn.copied{background:var(--accent);color:#042017;border-color:transparent}

/* layout: put the spectral label and the visual on a single line and align them like the precision row */
.nm-visual-container{display:flex;align-items:center;gap:12px;margin-top:12px}
.nm-visual-container .precision-text{margin:0;color:var(--muted);font-size:0.88rem;font-weight:600}
.nm-visual-container .nm-visual{margin:0}

@media (max-width:520px){form{flex-direction:column}label{min-width:unset}}

/* Mobile adjustments: avoid vertical centering which can hide header and block scrolling */
@media (max-width:720px){
  html, body { height: auto; }
  body{ align-items:flex-start; padding-top:18px; padding-bottom:40px }
  .container{ margin-top:0; }
  .precision-row{flex-direction:column;align-items:flex-start}
  .gh-btn{margin-top:8px}
  .nm-visual{flex-direction:column;align-items:flex-start}
}
